import{r,j as e,L as y,u as _,a as E}from"./index-_YkaRjJ1.js";import{g as S,c as C,d as I}from"./firebase-BhXpM6TQ.js";import{U as L}from"./useArticles-DbpOVlh_.js";function A(){const t=r.useRef(null),[d,a]=r.useState(!1),[o,x]=r.useState("STICK TO IT"),c=r.useRef({x:0,y:0});return r.useEffect(()=>{const n=()=>{const v=Array.from(t.current.querySelectorAll(".hero-letter")).map(i=>({el:i,x:0,y:0,tx:0,ty:0})),p=new IntersectionObserver(i=>{i.forEach(j=>{j.isIntersecting?a(!0):a(!1)})},{threshold:.1});p.observe(t.current);const f=()=>{d&&(v.forEach(i=>{const j=i.el.getBoundingClientRect(),N=j.left+j.width/2,s=j.top+j.height/2,l=c.current.x-N,h=c.current.y-s,m=Math.sqrt(l*l+h*h),b=120;if(m<b){const g=(1-m/b)*40;i.tx=-l/m*g,i.ty=-h/m*g}else i.tx=0,i.ty=0;i.x+=(i.tx-i.x)*.1,i.y+=(i.ty-i.y)*.1,i.el.style.transform=`translate(${i.x}px, ${i.y}px)`}),requestAnimationFrame(f))};f();const w=i=>{c.current.x=i.clientX,c.current.y=i.clientY};return window.addEventListener("mousemove",w),()=>{window.removeEventListener("mousemove",w),p.disconnect()}};n(),x("Let's Get Started!"),n()},[d,o]),e.jsx("h1",{className:"hero-title",ref:t,children:o.split(" ").map((n,u,v)=>e.jsxs("span",{className:"hero-word",children:[n.split("").map((p,f)=>e.jsx("span",{className:"hero-letter",children:p},f)),u<v.length-1&&e.jsx("span",{children:"Â "})]},u))})}function R(){const[t,d]=r.useState([]);return r.useEffect(()=>{async function a(){const x=(await S(C(I,"collections"))).docs.map(c=>({id:c.id,...c.data(),date:c.data().c_date.toDate()}));d(x)}a()},[]),t}function k({article:t}){return e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card__pic"}),e.jsx("h2",{className:"card__title",children:e.jsx("b",{children:t.title})}),e.jsxs("p",{className:"card__date",children:["Date: ",t.date.toLocaleDateString()]}),e.jsx("p",{className:"card__abstr",children:t.abstr})]})}function T({collections:t}){const d=t.length>=2?[t[t.length-2],t[t.length-1],...t,t[0],t[1]]:[...t],[a,o]=r.useState(1),[x,c]=r.useState(!0),[n,u]=r.useState(!1),v=r.useRef(null),p=r.useRef(null),[f,w]=r.useState(2);r.useEffect(()=>{const s=()=>{window.innerWidth<550?w(1):w(2)};return s(),window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)},[]);const i=100/f;r.useEffect(()=>{const s=()=>{clearInterval(p.current),p.current=setInterval(()=>{n||o(m=>m+1)},3e3)},l=()=>{clearInterval(p.current)},h=()=>{document.visibilityState==="visible"?s():l()};return s(),document.addEventListener("visibilitychange",h),()=>{l(),document.removeEventListener("visibilitychange",h)}},[n]),r.useEffect(()=>{const s=()=>{a===0?(c(!1),o(t.length)):a===d.length-2&&(c(!1),o(2)),u(!1)},l=v.current;return l.addEventListener("transitionend",s),()=>l.removeEventListener("transitionend",s)},[a,t.length,d.length]),r.useEffect(()=>{x||(v.current.offsetHeight,c(!0))},[x]),r.useEffect(()=>{const s=()=>{o(1)},l=()=>{var h;document.visibilityState==="visible"&&((h=v.current)==null||h.offsetHeight,o(m=>m))};return window.addEventListener("resize",s),document.addEventListener("visibilitychange",l),()=>{window.removeEventListener("resize",s),document.removeEventListener("visibilitychange",l)}},[]),r.useEffect(()=>{a>=d.length&&o(1)},[a,d.length]);const j=()=>{n||(u(!0),o(s=>s+1))},N=()=>{n||(u(!0),o(s=>s-1))};return e.jsxs("div",{className:"slider",children:[e.jsx("div",{ref:v,className:"slider-wrapper",style:{transform:`translateX(-${a*i}%)`,transition:x?"transform 0.5s ease":"none"},children:d.map((s,l)=>s?e.jsx(y,{to:`/collections/${s.id}`,className:"slide",style:{flex:`0 0 calc((100% - ${20*f}px) / ${f})`},children:s.src?s.src:e.jsx("div",{className:"slide__pic",children:s.c_title})},`${s.id}-${l}`):null)}),e.jsx("button",{className:"arrow left",onClick:N,disabled:n,children:"â®"}),e.jsx("button",{className:"arrow right",onClick:j,disabled:n,children:"â¯"}),e.jsx("div",{className:"dots",children:t.map((s,l)=>{const h=[];for(let b=0;b<f;b++){const g=(a-2+b+t.length)%t.length;h.push(g)}const m=h.includes(l);return e.jsx("span",{className:`dot ${m?"active":""}`},l)})})]})}function H(){const t=r.useRef(null);_(),E(n=>n.theme.mode);const d=()=>{var n;(n=t.current)==null||n.scrollIntoView({behavior:"smooth",block:"start"}),setTimeout(()=>{window.scrollBy(0,-35)},500)};r.useEffect(()=>{window.scrollTo(0,0)},[]);const o=L().sort((n,u)=>u.date-n.date).slice(0,3),c=R().sort((n,u)=>u.date-n.date).slice(0,3);return e.jsxs("div",{className:"hero-layout ${theme}",children:[e.jsxs("div",{className:"hero-section",children:[e.jsx(A,{}),e.jsx("button",{onClick:d,"aria-label":"scrolltocontent",className:"hero-section__button",children:e.jsx("font",{children:"â­£"})})]}),e.jsxs("div",{className:"body-items",ref:t,id:"homeContent",children:[e.jsxs("div",{className:"about_me",children:[e.jsx("h1",{id:"about_me_title",children:"About me"}),e.jsx("div",{className:"about_me-items ",id:"self-img",children:"ç…§ç‰‡"}),e.jsxs("div",{className:"about_me-items ",id:"self-des",children:[e.jsxs("div",{className:"des-font",children:[e.jsx("p",{children:"Hi there, I'm Elaine â™¡ Welcome to my little blog corner~"}),e.jsx("p",{children:"As you can see, this place is still a work in progressðŸ› ï¸ "}),e.jsx("p",{children:"But I'm working hard behind the scenes! "}),e.jsx("p",{children:"Hope to see you again soon with a cuter lookâœ¨"})]}),e.jsx("div",{className:"des-web",children:e.jsx("a",{href:"",target:"_blank",children:"Notion"})}),e.jsx("div",{className:"des-web",children:e.jsx("a",{href:"https://codepen.io/Elaine-the-animator",target:"_blank",children:"CodePen"})}),e.jsx("div",{className:"des-web",children:e.jsx("a",{href:"https://github.com/elainebear",target:"_blank",children:"GitHub"})})]})]}),e.jsxs("div",{className:"content",id:"homeArticle",children:[e.jsxs("div",{className:"articlePreview",children:[e.jsx("h2",{className:"content_h2",children:"Latest Posts"}),e.jsx("div",{className:"articleContent",children:o.map(n=>e.jsx(y,{to:`/articles/${n.id}`,children:e.jsx(k,{article:n})},n.id))}),e.jsx(y,{to:"/articles",className:"articlePreview__button--article",children:"Explore all articles âœ¨"})]}),e.jsxs("div",{className:"collectionPreview",children:[e.jsx("h2",{className:"content_h2",children:"New Posts"}),c.length>0&&e.jsx(T,{collections:c}),e.jsx(y,{to:"/collections",className:"collectionPreview__button--collection",children:"Explore all works âœ¨"})]})]})]})]})}export{H as default};
