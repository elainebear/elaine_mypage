import{r as s,j as t,L as u}from"./index-S9oBH_b4.js";import{g as f,c as g,d as v}from"./firebase-B-FRlTeJ.js";/* empty css               */function y(){const[a,x]=s.useState([]),[c,m]=s.useState(""),[i,j]=s.useState("newest");s.useEffect(()=>{window.scrollTo(0,0)},[]),s.useEffect(()=>{async function e(){const p=(await f(g(v,"collections"))).docs.map(n=>({id:n.id,...n.data(),date:n.data().c_date.toDate()}));x(p)}e()},[]);const r=a.filter(e=>e.c_title.toLowerCase().includes(c.toLowerCase()));let d="No collection found";const o=c?r.length:a.length;if(o>0){const e=o>1?"collections":"collection";d=c?o+" "+e+" matching your search":o+" "+e}const h=[...r].sort((e,l)=>i==="newest"?l.date-e.date:e.date-l.date);return t.jsxs("section",{className:"body-items",children:[t.jsx("p",{children:t.jsx(u,{to:"/",className:"return",children:" 返回首頁"})}),t.jsxs("h3",{className:"heading",children:[" ",d," "]}),t.jsxs("div",{className:"flex-container",children:[t.jsx("input",{type:"text",value:c,onChange:e=>m(e.target.value),placeholder:"搜尋作品標題"}),t.jsx("div",{className:"select-wrapper",children:t.jsxs("select",{value:i,onChange:e=>j(e.target.value),children:[t.jsx("option",{value:"newest",children:"最新"}),t.jsx("option",{value:"oldest",children:"最舊"})]})})]}),t.jsx("div",{className:"collections",children:h.length>0?h.map(e=>t.jsx(u,{to:`/collections/${e.id}`,className:"collections-items",children:e.src?t.jsx("img",{src:e.src,className:"collections--hover collections--thumbnail"}):t.jsxs("div",{className:"collections--hover",children:[t.jsx("p",{children:e.c_title}),t.jsx("p",{children:e.date.toLocaleDateString()})]})},e.id)):t.jsx("h3",{children:"沒有符合的作品:0 "})})]})}export{y as default};
