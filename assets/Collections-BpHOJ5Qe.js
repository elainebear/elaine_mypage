import{r as l,j as t,L as j}from"./index-Lts8nv9Z.js";/* empty css             */import{g as f,c as g,d as v}from"./firebase-B6k3xTsb.js";function N(){const[a,u]=l.useState([]),[s,x]=l.useState(""),[i,m]=l.useState("newest");l.useEffect(()=>{async function e(){const p=(await f(g(v,"collections"))).docs.map(n=>({id:n.id,...n.data(),date:n.data().c_date.toDate()}));u(p)}e()},[]);const r=a.filter(e=>e.c_title.toLowerCase().includes(s.toLowerCase()));let d="No collection found";const o=s?r.length:a.length;if(o>0){const e=o>1?"collections":"collection";d=s?o+" "+e+" matching your search":o+" "+e}const h=[...r].sort((e,c)=>i==="newest"?c.date-e.date:e.date-c.date);return t.jsxs("section",{className:"body-items",children:[t.jsxs("h3",{className:"heading",children:[" ",d," "]}),t.jsxs("div",{className:"flex-container",children:[t.jsx("input",{type:"text",value:s,onChange:e=>x(e.target.value),placeholder:"搜尋作品標題"}),t.jsx("div",{className:"select-wrapper",children:t.jsxs("select",{value:i,onChange:e=>m(e.target.value),children:[t.jsx("option",{value:"newest",children:"最新"}),t.jsx("option",{value:"oldest",children:"最舊"})]})})]}),t.jsx("div",{className:"collections",children:h.length>0?h.map(e=>t.jsxs(j,{to:`/collections/${e.id}`,className:"collections-items",children:[t.jsx("p",{children:e.c_title}),t.jsx("p",{children:e.date.toLocaleDateString()})]},e.id)):t.jsx("h3",{children:"沒有符合的作品:0 "})})]})}export{N as default};
