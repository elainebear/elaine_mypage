const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ArticleList-CemAiicl.js","assets/index-Lts8nv9Z.js","assets/index-CxG6zlFW.css"])))=>i.map(i=>d[i]);
import{r as s,j as t,L as m,_ as f}from"./index-Lts8nv9Z.js";/* empty css             */import{g,c as v,d as _}from"./firebase-B6k3xTsb.js";const y=s.lazy(()=>f(()=>import("./ArticleList-CemAiicl.js"),__vite__mapDeps([0,1,2])));function E(){const[n,h]=s.useState([]),[a,x]=s.useState(""),[c,p]=s.useState("newest");s.useEffect(()=>{async function e(){const j=(await g(v(_,"articles"))).docs.map(l=>({id:l.id,...l.data(),date:l.data().date.toDate()}));h(j)}e()},[]);const o=n.filter(e=>e.title.toLowerCase().includes(a.toLowerCase()));let d="No article found";const r=a?o.length:n.length;if(r>0){const e=r>1?"articles":"article";d=a?r+" "+e+" matching your search  ":r+" "+e}const u=[...o].sort((e,i)=>c==="newest"?i.date-e.date:e.date-i.date);return t.jsxs("section",{className:"body-items",children:[t.jsxs("h3",{className:"heading",children:[" ",d," "]}),t.jsxs("div",{className:"flex-container",children:[t.jsx("input",{type:"text",value:a,onChange:e=>x(e.target.value),placeholder:"搜尋文章標題"}),t.jsx("div",{className:"select-wrapper",children:t.jsxs("select",{value:c,onChange:e=>p(e.target.value),children:[t.jsx("option",{value:"newest",children:"最新"}),t.jsx("option",{value:"oldest",children:"最舊"})]})})]}),t.jsx(s.Suspense,{fallback:t.jsx("div",{children:"Loading..."}),children:u.length>0?u.map(e=>t.jsx(m,{to:`/articles/${e.id}`,children:t.jsx(y,{article:e})},e.id)):t.jsx("h3",{children:"沒有符合的文章:( "})})]})}export{E as default};
