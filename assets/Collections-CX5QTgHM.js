import{r as c,j as t,L as j}from"./index-BYryPm9-.js";/* empty css             */import{g as f,c as g,d as v}from"./firebase-B6k3xTsb.js";function N(){const[n,u]=c.useState([]),[s,h]=c.useState(""),[i,x]=c.useState("newest");c.useEffect(()=>{async function e(){const p=(await f(g(v,"collections"))).docs.map(a=>({id:a.id,...a.data(),date:a.data().c_date.toDate()}));u(p)}e()},[]);const r=n.filter(e=>e.c_title.toLowerCase().includes(s.toLowerCase()));let d="No collection found";const o=s?r.length:n.length;if(o>0){const e=o>1?"collections":"collection";d=s?o+" "+e+" matching your search":o+" "+e}const m=[...r].sort((e,l)=>i==="newest"?l.date-e.date:e.date-l.date);return t.jsxs("section",{className:"body-items",children:[t.jsxs("h3",{className:"heading",children:[" ",d," "]}),t.jsxs("div",{className:"flex-container",children:[t.jsx("input",{type:"text",value:s,onChange:e=>h(e.target.value),placeholder:"搜尋作品標題"}),t.jsx("div",{className:"select-wrapper",children:t.jsxs("select",{value:i,onChange:e=>x(e.target.value),children:[t.jsx("option",{value:"newest",children:"最新"}),t.jsx("option",{value:"oldest",children:"最舊"})]})})]}),t.jsx("div",{className:"collections",children:m.map(e=>t.jsxs(j,{to:`/collections/${e.id}`,className:"collections-items",children:[t.jsx("p",{children:e.c_title}),t.jsx("p",{children:e.date.toLocaleDateString()})]},e.id))})]})}export{N as default};
