import{r as s,j as t,L as u}from"./index-BHHKAfvi.js";import{g as f,c as g,d as v}from"./firebase-BhXpM6TQ.js";function y(){const[a,x]=s.useState([]),[o,j]=s.useState(""),[i,m]=s.useState("newest");s.useEffect(()=>{window.scrollTo(0,0)},[]),s.useEffect(()=>{async function e(){const p=(await f(g(v,"collections"))).docs.map(n=>({id:n.id,...n.data(),date:n.data().c_date.toDate()}));x(p)}e()},[]);const r=a.filter(e=>e.c_title.toLowerCase().includes(o.toLowerCase()));let d="No collection found";const l=o?r.length:a.length;if(l>0){const e=l>1?"collections":"collection";d=o?l+" "+e+" matching your search":l+" "+e}const h=[...r].sort((e,c)=>i==="newest"?c.date-e.date:e.date-c.date);return t.jsxs("section",{className:"body-items",children:[t.jsx("p",{children:t.jsx(u,{to:"/",className:"return",children:" 返回首頁"})}),t.jsxs("h3",{className:"heading",children:[" ",d," "]}),t.jsxs("div",{className:"flex-container",children:[t.jsx("input",{type:"text",value:o,onChange:e=>j(e.target.value),placeholder:"搜尋作品標題"}),t.jsx("div",{className:"select-wrapper",children:t.jsxs("select",{value:i,onChange:e=>m(e.target.value),children:[t.jsx("option",{value:"newest",children:"最新"}),t.jsx("option",{value:"oldest",children:"最舊"})]})})]}),t.jsx("div",{className:"collections",children:h.length>0?h.map(e=>t.jsxs(u,{to:`/collections/${e.id}`,className:"collections-items",children:[t.jsx("p",{children:e.c_title}),t.jsx("p",{children:e.date.toLocaleDateString()})]},e.id)):t.jsx("h3",{children:"沒有符合的作品:0 "})})]})}export{y as default};
